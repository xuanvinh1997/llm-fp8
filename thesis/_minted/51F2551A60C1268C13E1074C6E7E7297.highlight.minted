\begin{MintedVerbatim}[commandchars=\\\{\}]
\PYG{k}{class}\PYG{+w}{ }\PYG{n+nc}{BlockTable}\PYG{p}{:}
    \PYG{c+c1}{\PYGZsh{} Maps logical\PYGZus{}block\PYGZus{}idx \PYGZhy{}\PYGZgt{} (physical\PYGZus{}block\PYGZus{}idx, num\PYGZus{}filled\PYGZus{}slots)}
    \PYG{n}{entries}\PYG{p}{:} \PYG{n}{List}\PYG{p}{[}\PYG{n}{Tuple}\PYG{p}{[}\PYG{n+nb}{int}\PYG{p}{,} \PYG{n+nb}{int}\PYG{p}{]}\PYG{p}{]}

\PYG{k}{class}\PYG{+w}{ }\PYG{n+nc}{KVCacheManager}\PYG{p}{:}
    \PYG{n}{physical\PYGZus{}blocks}\PYG{p}{:} \PYG{n}{Tensor}  \PYG{c+c1}{\PYGZsh{} [num\PYGZus{}blocks, num\PYGZus{}heads, head\PYGZus{}dim, block\PYGZus{}size]}
    \PYG{n}{free\PYGZus{}blocks}\PYG{p}{:} \PYG{n}{List}\PYG{p}{[}\PYG{n+nb}{int}\PYG{p}{]}   \PYG{c+c1}{\PYGZsh{} Available physical block indices}
    \PYG{n}{block\PYGZus{}tables}\PYG{p}{:} \PYG{n}{Dict}\PYG{p}{[}\PYG{n}{request\PYGZus{}id}\PYG{p}{,} \PYG{n}{BlockTable}\PYG{p}{]}
\end{MintedVerbatim}
