\begin{MintedVerbatim}[commandchars=\\\{\}]
Input: Weight matrix W in R\PYGZca{}\PYGZob{}d\PYGZus{}row x d\PYGZus{}col\PYGZcb{}, Hessian H\PYGZus{}inv, target sparsity p\PYGZpc{}
Output: Sparse weight matrix W\PYGZus{}sparse

1. Precompute Cholesky decomposition of H\PYGZus{}inv
2. For j = 0 to d\PYGZus{}col:
   For each row i:
     a. Determine if w\PYGZus{}\PYGZob{}ij\PYGZcb{} should be pruned (via mask selection)
     b. If pruned: Set w\PYGZus{}\PYGZob{}ij\PYGZcb{} = 0
        Else: Keep current value
     c. Compute error: err = (w\PYGZus{}\PYGZob{}ij,original\PYGZcb{} \PYGZhy{} w\PYGZus{}\PYGZob{}ij\PYGZcb{}) / [H\PYGZus{}inv]\PYGZus{}\PYGZob{}jj\PYGZcb{}
     d. Update remaining weights: W[i, j+1:] \PYGZhy{}= err * H\PYGZus{}inv[j, j+1:]
3. Return W\PYGZus{}sparse
\end{MintedVerbatim}
